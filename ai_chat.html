<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soul Sync - AI Coach Offline</title>
<style>
body {
    font-family: "Tajawal", sans-serif;
    background-color: #f0f0f5;
    margin: 0;
    padding: 0;
}
.main-content {
    padding: 20px;
    margin-right: 200px;
}
.chat-container {
    height: 500px;
    border: 1px solid #CCC;
    padding: 15px;
    overflow-y: auto;
    border-radius: 8px;
    margin-bottom: 15px;
    background-color: #F9F9F9;
}
.ai-message-bubble {
    background-color: #E6E6FA;
    padding: 10px;
    border-radius: 15px 15px 15px 0;
    margin-bottom: 10px;
    max-width: 80%;
    float: right;
    clear: both;
}
.user-message-bubble {
    background-color: #6C5CE7;
    color: white;
    padding: 10px;
    border-radius: 15px 15px 0 15px;
    margin-bottom: 10px;
    max-width: 80%;
    float: left;
    clear: both;
}
.typing-indicator {
    background-color: #F0F0F0;
    color: #555;
    padding: 8px 12px;
    border-radius: 15px;
    width: fit-content;
    margin-bottom: 10px;
    font-size: 0.9em;
    float: right;
    clear: both;
    animation: pulse-dot 1s infinite;
}
@keyframes pulse-dot {
    0% {opacity: 0.5;}
    50% {opacity: 1;}
    100% {opacity: 0.5;}
}
textarea {
    flex-grow: 1;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #CCC;
    resize: none;
}
button {
    padding: 10px 20px;
    margin-left: 10px;
    background-color: #6C5CE7;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}
#inputArea {
    display: flex;
    gap: 10px;
}
</style>
</head>
<body>

<div class="main-content">
    <h2>ğŸ¤– ÙØ¶ÙØ¶Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø°ÙƒÙŠ</h2>
    <div id="chatContainer" class="chat-container">
        <div class="ai-message-bubble">
            Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! Ø£Ù†Ø§ Ù…Ø¯Ø±Ø¨Ùƒ Ø§Ù„Ø°ÙƒÙŠ Soul Sync Coach. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙØ¶ÙØ¶Ø© Ù…Ø¹ÙŠ ÙˆØ³Ø£Ù‚Ø¯Ù… Ù„Ùƒ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨.
        </div>
    </div>

    <div id="inputArea">
        <textarea id="userInput" rows="2" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..."></textarea>
        <button id="sendButton">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
</div>

<script>
// ------------ AI logic --------------
const chatContainer = document.getElementById('chatContainer');
const userInput = document.getElementById('userInput');
const sendButton = document.getElementById('sendButton');

function displayMessage(text, sender) {
    const div = document.createElement('div');
    div.className = sender === 'user' ? 'user-message-bubble' : 'ai-message-bubble';
    div.innerHTML = text;
    chatContainer.appendChild(div);
    chatContainer.scrollTop = chatContainer.scrollHeight;
}

function showTypingIndicator() {
    const div = document.createElement('div');
    div.className = 'typing-indicator';
    div.id = 'typingIndicator';
    div.innerText = 'Ø§Ù„Ù…Ø¯Ø±Ø¨ Ø§Ù„Ø°ÙƒÙŠ ÙŠÙƒØªØ¨...';
    chatContainer.appendChild(div);
    chatContainer.scrollTop = chatContainer.scrollHeight;
    return div;
}

function hideTypingIndicator(indicator) {
    if (indicator) indicator.remove();
}

// ---------- AI response logic ----------
function getAIResponse(userMessage) {
    const msg = userMessage.toLowerCase();
    const responses = [];

    // Ø§Ù„Ø­Ø²Ù† ÙˆØ§Ù„Ø§ÙƒØªØ¦Ø§Ø¨
    if (msg.includes('Ø­Ø²ÙŠÙ†') || msg.includes('Ø§ÙƒØªØ¦Ø§Ø¨') || msg.includes('Ø¨ÙƒØ§Ø¡') || msg.includes('Ù…Ø´ Ù‚Ø§Ø¯Ø±')) {
        responses.push(
            'Ø£ØªÙÙ‡Ù… Ø´Ø¹ÙˆØ±ÙƒØŒ Ù‡Ø°Ø§ ØµØ¹Ø¨ Ø¬Ø¯Ø§Ù‹. Ø­Ø§ÙˆÙ„ Ø£Ù† ØªÙƒØªØ¨ Ù…Ø§ Ø¨Ø¯Ø§Ø®Ù„ÙƒØŒ Ø­ØªÙ‰ Ù„Ùˆ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø©.',
            'Ø£Ø´Ø¹Ø± Ø¨Ù…Ø§ ØªÙ…Ø± Ø¨Ù‡. Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø´Ø§Ø¹Ø±Ùƒ ØªØ¬Ø¹Ù„Ù‡Ø§ Ø£Ø®Ù.',
            'Ø®Ø° Ù†ÙØ³Ø§Ù‹ Ø¹Ù…ÙŠÙ‚Ø§Ù‹ØŒ ÙˆØ£Ø®Ø¨Ø±Ù†ÙŠ Ù…Ø§ Ø£ÙƒØ«Ø± Ø´ÙŠØ¡ ÙŠÙ‚Ù„Ù‚Ùƒ Ø§Ù„Ø¢Ù†ØŸ'
        );
    }
    // Ø§Ù„Ù‚Ù„Ù‚ ÙˆØ§Ù„ØªÙˆØªØ±
    else if (msg.includes('Ù‚Ù„Ù‚') || msg.includes('ØªÙˆØªØ±') || msg.includes('Ø®ÙˆÙ')) {
        responses.push(
            'Ø§Ù„Ù‚Ù„Ù‚ Ø´Ø¹ÙˆØ± Ø·Ø¨ÙŠØ¹ÙŠØŒ Ø­Ø§ÙˆÙ„ Ø£Ù† ØªØ£Ø®Ø° Ù†ÙØ³Ø§Ù‹ Ø¹Ù…ÙŠÙ‚Ø§Ù‹ ÙˆØªÙƒØªØ¨ Ù…Ø®Ø§ÙˆÙÙƒ.',
            'Ø¯Ø¹Ù†Ø§ Ù†Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªÙ‡Ø¯Ø¦Ø© Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ø¹ØµØ¨ÙŠØŒ Ø¬Ø±Ø¨ Ø§Ù„ØªÙ†ÙØ³ 4-7-8.',
            'Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ø¯ÙŠØ¯ Ù…ØµØ¯Ø± Ù‚Ù„Ù‚ÙƒØŸ Ø§Ù„Ø­Ø¯ÙŠØ« Ø¹Ù†Ù‡ ÙŠØ³Ø§Ø¹Ø¯ ÙƒØ«ÙŠØ±Ø§Ù‹.'
        );
    }
    // Ø§Ù„Ù…Ù„Ù„ Ø£Ùˆ Ø§Ù„ÙØ±Ø§Øº
    else if (msg.includes('Ù…Ù„Ù„') || msg.includes('ÙØ±Ø§Øº') || msg.includes('Ù…Ø´ Ø¹Ø§Ø±Ù')) {
        responses.push(
            'Ø§Ù„Ù…Ù„Ù„ Ø´Ø¹ÙˆØ± Ø·Ø¨ÙŠØ¹ÙŠØŒ Ø¯Ø¹Ù†Ø§ Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø´ÙŠØ¡ ØµØºÙŠØ± Ø§Ù„ÙŠÙˆÙ….',
            'Ø±Ø¨Ù…Ø§ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¬Ø¯ÙˆÙ„Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø´Ø§Ø·.',
            'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø£Ù† Ø£Ù‚ØªØ±Ø­ ØªÙ…Ø±ÙŠÙ† Ù…Ù…ØªØ¹ Ù„ØªÙ†Ø´ÙŠØ· Ø°Ù‡Ù†ÙƒØŸ'
        );
    }
    // Ø§Ù„Ø£ÙƒÙ„ Ø£Ùˆ Ø§Ù„Ø´Ø±Ù‡
    else if (msg.includes('Ø£ÙƒÙ„') && (msg.includes('Ø´Ø±Ù‡') || msg.includes('Ù†ÙˆØ¨Ø©') || msg.includes('Ø§ÙƒÙ„Øª'))) {
        responses.push(
            'Ø­Ø³Ù†Ø§Ù‹ØŒ Ù„Ø§ ØªÙ‚Ù„Ù‚ØŒ Ø§Ù„Ù…Ù‡Ù… Ù‡Ùˆ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©. Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø´Ø±Ø¨ Ù…Ø§Ø¡ Ø§Ù„Ø¢Ù†ØŸ',
            'ØªØ°ÙƒØ± Ø£Ù† ÙƒÙ„ ÙŠÙˆÙ… ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ù„Ù†Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©.',
            'Ø£Ø´Ø¹Ø± Ø¨Ù…Ø§ ØªØ´Ø¹Ø± Ø¨Ù‡ØŒ Ø­Ø§ÙˆÙ„ Ø£Ù† ØªÙƒØªØ¨ Ù…Ø´Ø§Ø¹Ø±Ùƒ Ø¹Ù† Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ø¢Ù†.'
        );
    }
    // Ø±Ø¯ Ø¹Ø§Ù…
    else {
        responses.push(
            'Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ. Ø£Ø±Ø¬Ùˆ Ø£Ù† ØªÙˆØ¶Ø­ Ø£ÙƒØ«Ø± Ø­ØªÙ‰ Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ.',
            'Ø£Ù†Ø§ Ø£ØµØºÙŠ Ø¥Ù„ÙŠÙƒØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ÙØ¶ÙØ¶Ø©ØŒ ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§ Ø¢Ù…Ù†.',
            'Ù…Ø§Ø°Ø§ ØªØ´Ø¹Ø± Ø§Ù„Ø¢Ù†ØŸ Ø£Ø®Ø¨Ø±Ù†ÙŠ Ø£ÙƒØ«Ø± Ø¹Ù† ÙŠÙˆÙ…Ùƒ.'
        );
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø±Ø¯ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
    const reply = responses[Math.floor(Math.random() * responses.length)];
    return reply;
}

// ---------- handle sending ----------
function handleUserMessage() {
    const msg = userInput.value.trim();
    if (msg === '') return;

    displayMessage(msg, 'user');
    userInput.value = '';

    const indicator = showTypingIndicator();

    setTimeout(() => {
        hideTypingIndicator(indicator);
        const aiReply = getAIResponse(msg);
        displayMessage(aiReply, 'ai');
    }, 1500 + Math.random() * 1000);
}

sendButton.addEventListener('click', handleUserMessage);

userInput.addEventListener('keypress', function(e){
    if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        handleUserMessage();
    }
});

</script>
</body>
</html>
